<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>    
<head>
<link rel="stylesheet" rev="stylesheet" href="qrc:style.css" type="text/css">
<script type="text/javascript" src="qrc:jquery.js"/> </script>
<script type="text/javascript" src="qrc:jm.js"/> </script>
<script>
function postItem(name,cmd,args,index)
{
	
		$('#editcmd #cmdName_span').html('<input name="cmdName" type="text" id="cmdName" size=20 class="itext" value="'+name+'"/>');
		$('#editcmd #cmdParameter_span').html('<input name="cmdParameter" type="text" id="cmdParameter" size=50 class="itext" value="'+args+'"/>');
		$('#editcmd #cmdCommand_span').html('<input name="cmdCommand" type="text" id="cmdCommand" size=50 class="itext" style="width:350px;" value="'+cmd+'"/>');
		$('#editcmd #cmdIndex_span').html('<input name="cmdIndex" type="text" id="cmdIndex" value='+index+'>');
}
function postDelItem(cmd,index)
{
		$('#deletecmd #del_cmd_span').html(cmd);
		$('#deletecmd #cmdDelIndex_span').html('<input name="cmdIndex" type="text" id="cmdIndex" value='+index+'>');
}
function cmdApply(type)
{
	tb_remove();
   if(type==0||type==1){
		OptionsDlg.cmdApply(type,$('#TB_window #cmdName').val(),$('#TB_window #cmdCommand').val(),$('#TB_window #cmdParameter').val(),$('#TB_window #cmdIndex').val());
	}else{
	    OptionsDlg.cmdApply(type,'','','',$('#TB_window #cmdIndex').val());   
   }
   OptionsDlg.loading('Command');
   tb_init('a.thickbox');
}
function apply(key)
{
		OptionsDlg.accept();
}
</script>
</head>    
    <body>
	<div id="toolbar">
			<div class="tb_m">
				<ul id="tmenu"></ul>
			</div>
	</div>
		<div id="wrapper">
				<div class="content">
					<div class="cfgitem">
						<h2 class="ntitle">命令&raquo;
							<ul class="nelt" id="groupdo"><li class="bkad"><a class="thickbox" name="add&raquo;" href="qrc:addcmd" rel="width=540&height=100">增加</a></li></ul>
						</h2>
						<div style="border:1px solid #CCC;height:320px;">
						<div class="tableContainer">
							<table border="0" cellpadding="0" cellspacing="0" width="100%" class="scrollTable">
								<thead class="clt_h">
									<tr>
										<th>名字</th>
										<th>命令</th>
										<th>参数</th>
										<th>动作</th>
									</tr>
								</thead>
							</table>
						</div>	
						<div id="clt" class="clt">
						<table border="0" cellpadding="0" cellspacing="0" width="100%" class="clt_t">
							<tbody class="clt_c" id="cmdlist">
							</tbody>
						</table>
						</div>	
					</div>
					</div>
					<div id="editcmd" style="display:none;">
						<div class="cfgitem">
							<p>
								<span class="tl">名字:</span>
								<span class="ip" id="cmdName_span">
									<input name="cmdName" type="text" id="cmdName" size=20 class="itext"/>
								</span>	
								<span class="tl">参数:</span>
								<span class="ip" id="cmdParameter_span">
									<input name="cmdParameter" type="text" id="cmdParameter" size=50 class="itext"/>
								</span>	
							</p>
							<p>
								<span class="tl">命令:</span>
								<span class="ip" id="cmdCommand_span">
									<input name="cmdCommand" type="text" id="cmdCommand" size=50 class="itext" style="width:500px;"/>
									<input type="button" value="..." onclick="javascript:OptionsDlg.getListDirectory('#TB_window #cmdCommand',1);" />
								</span>								
							</p>
							<p style="display:none;" id="cmdIndex_span">
								<input name="cmdIndex" type="text" id="cmdIndex">
							</p>
						</div>
						<div class="btn"><a href="#" onclick="tb_remove();">取消</a></div>	
						<div class="btn"><a href="#" onclick="cmdApply(1)">修改</a></div>						
					</div>
					<div id="addcmd" style="display:none;">
						<div class="cfgitem">
							<p>
								<span class="tl">名字:</span>
								<span class="ip" id="cmdName_span">
									<input name="cmdName" type="text" id="cmdName" size=20 class="itext"/>
								</span>	
								<span class="tl">参数:</span>
								<span class="ip" id="cmdParameter_span">
									<input name="cmdParameter" type="text" id="cmdParameter" size=50 class="itext"/>
								</span>	
							</p>
							<p>
								<span class="tl">命令:</span>
								<span class="ip" id="cmdCommand_span">
									<input name="cmdCommand" type="text" id="cmdCommand" size=50 class="itext" style="width:350px;"/>
									<input type="button" value="..." onclick="javascript:OptionsDlg.getListDirectory('#TB_window #cmdCommand',1);" />
								</span>								
							</p>
							<p style="display:none;" id="cmdIndex_span">
								<input name="cmdIndex" type="text" id="cmdIndex">
							</p>
						</div>
						<div class="btn"><a href="#" onclick="tb_remove();">取消</a></div>
						<div class="btn"><a href="#" onclick="cmdApply(0)">增加</a></div>								
					</div>
					<div id="deletecmd" style="display:none;">
						<div class="cfgitem">
							<p>
								<span class="tl">您确定删除命令：</span>
								<span class="ip" id="del_cmd_span">
								</span>							
							</p>
							<p style="display:none;" id="cmdDelIndex_span">
								<input name="cmdIndex" type="text" id="cmdIndex" >
							</p>	
						</div>
						<div class="btn"><a href="#" onclick="tb_remove();">取消</a></div>
						<div class="btn"><a href="#" onclick="cmdApply(2)">删除</a></div>											
					</div>
				</div>
			 <div id="footer">				
			</div>
		</div>
    </body>
<script>
	OptionsDlg.loading('Command');
	tb_init('a.thickbox');
</script>
</html>