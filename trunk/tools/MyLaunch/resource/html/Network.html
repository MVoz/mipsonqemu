<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>index</title>
<link rel="stylesheet" rev="stylesheet" href="qrc:jm.css" type="text/css">
<script>
function $(a){return document.getElementById(a);}
function getHtml(path){OptionsDlg.getHtml(path);}
function reject(){OptionsDlg.reject();}
function tr(a){document.write(OptionsDlg.tr(a));}
function gohref(url){OptionsDlg.gohref(url);}
function apply(key)
{

	OptionsDlg.apply('HttpProxy/proxyEnable',$('proxyEnable').checked);
	OptionsDlg.apply('HttpProxy/proxyAddress',$('proxyAddress').value);
	OptionsDlg.apply('HttpProxy/proxyPort',$('proxyPort').value);
	OptionsDlg.apply('HttpProxy/proxyUsername',$('proxyUsername').value);
	OptionsDlg.apply('HttpProxy/proxyPassword',$('proxyPassword').value);
	OptionsDlg.accept();
}
 
function updateClick(type)
	{
		OptionsDlg.startUpdater();
	}
function proxyEnableClick()
{
			if($('proxyEnable').checked)
					{
						$('proxyAddress').disabled=false;
						$('proxyPort').disabled=false;
						$('proxyUsername').disabled=false;
						$('proxyPassword').disabled=false;
					}
			 else{
						$('proxyAddress').disabled=true;
						$('proxyPort').disabled=true;
						$('proxyUsername').disabled=true;
						$('proxyPassword').disabled=true;
			 }
}

function testProxyClick()
{
		with(document){
			OptionsDlg.apply('HttpProxy/proxyEnable',$('proxyEnable').checked);
			OptionsDlg.apply('HttpProxy/proxyAddress',$('proxyAddress').value);
			OptionsDlg.apply('HttpProxy/proxyPort',$('proxyPort').value);
			OptionsDlg.apply('HttpProxy/proxyUsername',$('proxyUsername').value);
			OptionsDlg.apply('HttpProxy/proxyPassword',$('proxyPassword').value);
			OptionsDlg.proxyTestClick(getElementById('proxyAddress').value,getElementById('proxyPort').value,getElementById('proxyUsername').value,getElementById('proxyPassword').value);
			//OptionsDlg.proxyTestClick();
		}
}
</script>
</head>
 <body>
		<div id="wrapper">
			<div id="page">
				<div id="header">
					<div>
						<h1>
							Tanzhi.com
						</h1>
						<p>
							<a href="http://www.tanzhi.com">
								Anything is in touch!
							</a>
						</p>
					</div>
					<div id="menu">
					</div>
				</div>
				<div class="clearfix">
					<fieldset class="cfgitem">
							<h2>HTTP代理&raquo;</h2>
							<p><input type="checkbox" name="proxyEnable" id="proxyEnable" onclick="proxyEnableClick();" />&nbsp启用HTTP代理</p>
							<p>
								<span class="tl">地址::</span>
								<span class="ip">
									<input name="proxyAddress" type="text" id="proxyAddress" size=20 class="itext"/>
								</span>
								<span class="tl">端口:</span>
								<span class="ip">
									<input name="proxyPort" type="text" id="proxyPort" size="5" />
								</span>	
								<span class="btn" style="float:right;">
										&nbsp;
								</span>
							</p>
														<p>
								<span class="tl">用户:</span>
								<span class="ip">
									<input name="proxyUsername" type="text" id="proxyUsername" size=20 class="itext"/>
								</span>
								<span class="tl">密码:</span>
								<span class="ip">
									<input name="proxyPassword" type="password" id="proxyPassword" size=20 class="itext"/>
								</span>	
								<span class="btn" style="float:right;">
										<a href="#" onclick="testProxyClick();">测试</a>		
								</span>
							</p>
					</fieldset>
					<fieldset class="cfgitem">
						<h2>软件更新&raquo;</h2>
						<p>
							当前版本:
							<span id="version"></span>
							<span class="btn" style="float:right;">
										<a href="#" onclick="updateClick();">立即更新</a>		
							</span>
						</p>
					</fieldset>
				</div>
			</div>
			 <div id="footer">
				
			</div>
		</div>
    </body>
<body>
<script>
	OptionsDlg.loading('Network');
</script>
</html>