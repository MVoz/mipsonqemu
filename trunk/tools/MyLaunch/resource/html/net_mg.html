<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>network managment</title>
<link rel="stylesheet" rev="stylesheet" href="qrc:jm.css" type="text/css">
<script>
function $(a) {
        return document.getElementById(a);
}
function getHtml(path)
{
	OptionsDlg.getHtml(path);
}

function apply(key)
{
	OptionsDlg.apply('HttpProxy/proxyEnable',$('proxyEnable').checked);
	OptionsDlg.apply('HttpProxy/proxyAddress',$('proxyAddress').value);
	OptionsDlg.apply('HttpProxy/proxyPort',$('proxyPort').value);
	OptionsDlg.apply('HttpProxy/proxyUsername',$('proxyUsername').value);
	OptionsDlg.apply('HttpProxy/proxyPassword',$('proxyPassword').value);
	OptionsDlg.accept();

}
function reject()
{
	OptionsDlg.reject();
}
function proxyEnableClick()
{
			if($('proxyEnable').checked)
					{
						$('proxyAddress').disabled=false;
						$('proxyPort').disabled=false;
						$('proxyUsername').disabled=false;
						$('proxyPassword').disabled=false;
					}
			 else{
						$('proxyAddress').disabled=true;
						$('proxyPort').disabled=true;
						$('proxyUsername').disabled=true;
						$('proxyPassword').disabled=true;
			 }
}

function testProxyClick()
{
		with(document){
			OptionsDlg.apply('HttpProxy/proxyEnable',$('proxyEnable').checked);
			OptionsDlg.apply('HttpProxy/proxyAddress',$('proxyAddress').value);
			OptionsDlg.apply('HttpProxy/proxyPort',$('proxyPort').value);
			OptionsDlg.apply('HttpProxy/proxyUsername',$('proxyUsername').value);
			OptionsDlg.apply('HttpProxy/proxyPassword',$('proxyPassword').value);
			OptionsDlg.proxyTestClick(getElementById('proxyAddress').value,getElementById('proxyPort').value,getElementById('proxyUsername').value,getElementById('proxyPassword').value);
			//OptionsDlg.proxyTestClick();
		}
}
function tr(a)
{
		document.write(OptionsDlg.tr(a));
}
</script>
</head>
<body>
<div id="wrap">
	<div id="header"></div>
	<div class="main">
		<div id="lm"></div>
		<div id="rm"> 				
				<fieldset class="cfgitem">
					<legend>HTTP代理</legend>
					<table width="100%" >
						<tr>
							<td width="100%" colspan="4"><input type="checkbox" name="proxyEnable" id="proxyEnable" onclick="proxyEnableClick();" />&nbsp启用HTTP代理</td>	
						</tr>
						<tr>
							<td width="10%">地址:</td>
							<td width="40%" align=left><input name="proxyAddress" type="text" id="proxyAddress" size=20 class="itext"/></td>
							<td width="10%" >端口:</td>
							<td width="40%" align=right>
								<table width="50" cellspacing="0" cellpadding="0" style="border:solid 1px #ccc;height:20px;">
								<tr >
								<td width="15" ><img src="qrc:image/button01.gif" height="20"/></td>
								<td width="50" style="margin-left:-2px;" ><input name="proxyPort" type="text" id="proxyPort" size="5" style="border:0px;height:20px;" /></td>
								<td width="15" style="margin-left:-2px;"><img src="qrc:image/button02.gif" height="20"/></td>
								</tr>
								</table>
							</td>
						</tr>
						<tr>
							<td width="10%">用户:</td>
							<td width="60%" align=left><input name="proxyUsername" type="text" id="proxyUsername" size=20 class="itext"/></td>
							<td width="30%" align=right colspan=2>
							
							</td>
						</tr>
						<tr >
							<td width="10%">密码:</td>
							<td width="60%" align=left><input name="proxyPassword" type="password" id="proxyPassword" size=20 class="itext"/></td>
							<td width="30%" align=right colspan=2>
							<div class="btn">
							<a href="#" onclick="testProxyClick();"><label>测试</label></a>
							</div>
							</td>
						</tr>
					</table>
				</fieldset>
				<fieldset class="cfgitem">
					<legend>软件更新</legend>
					<table width="100%" >
						<tr>
							<td width="15%">当前版本:</td>
							<td width="20%" align=left><span id="version"></span></td>
							<td width="25%" ></td>
							<td width="50%" >
									<div class="btn">
										<a href="#" onclick="updateClick();"><label>立即更新</label></a>
									</div>
							</td>
						</tr>					
					</table>
				</fieldset>
		</div>
	</div>
</div>
<div id="applybtn"></div>
</body>
<script>
	OptionsDlg.loading('net_mg');
</script>
</html>